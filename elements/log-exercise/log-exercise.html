<link rel="import" href="../../components/polymer/polymer.html">

<polymer-element name="log-exercise">

  <template>
    <app-globals id="globals"></app-globals>
    <link rel="stylesheet" href="log-exercise.css">
    <paper-shadow z="1" id="miniCard" flex>
      <div horizontal layout flex two>
        <core-media-query query="max-width: 640px" queryMatches="{{phoneScreen}}"></core-media-query>
        <div layout vertical?="{{phoneScreen}}" horizontal?="{{!phoneScreen}}">
          <div flex>
            <core-dropdown-menu label="Choose a body part">
              <core-dropdown class="dropdown">
                <core-selector id="bodySelected" on-core-select="{{selectedBodyChange}}" selectedItem={{item}} selected="" value="{{selectedBody}}">
                  <template repeat="{{bodyPart in $.globals.bodyParts}}">
                    <core-item label={{bodyPart}}></core-item>
                  </template>
              </core-dropdown>
            </core-dropdown-menu>
          </div>
          <div flex>
            <core-dropdown-menu label="Choose an exercise">
              <core-dropdown class="dropdown">
                <core-selector on-core-select="{{selectedExercise}}" selectedItem={{item}} selected="">
                  <template repeat="{{exercise in $.globals.exercises}}">
                      <core-item label={{exercise.exercise_name}} id="{{exercise.exercise_name}}"></core-item>
                  </template>
                </core-dropdown>
              </core-dropdown-menu>
          </div>
          <div>
            <paper-button raised>+ADD SET</paper-button>
          </div>
        </div>
        <div vertical layout right-justified flex>
          <div center horizontal layout>
            <div>Set 1:</div>
            <div two><paper-slider pin id="setOne" value="{{setOneReps}}" on-change="{{setOneChange}}" on-tap="{{setOneChange}}"></paper-slider></div>
            <div><paper-input class="value-input" label="" value="{{setOneReps}}" on-change="{{setOneChange}}" on-tap="{{setOneChange}}"></paper-input></div>
          </div>
          <div center horizontal layout>
            <div>Set 2:</div>
            <div two><paper-slider pin value="{{setTwoReps}}" on-change="{{setTwoChange}}" on-tap="{{setTwoChange}}"></paper-slider></div>
            <div><paper-input class="value-input" label="" value="{{setTwoReps}}" on-change="{{setTwoChange}}" on-tap="{{setTwoChange}}"></paper-input></div>
          </div>
          <div center horizontal layout>
            <div>Set 3:</div>
            <div two><paper-slider pin value="{{setThreeReps}}" on-change="{{setThreeChange}}" on-tap="{{setThreeChange}}"></paper-slider></div>
            <div><paper-input class="value-input" label="" value="{{setThreeReps}}" on-change="{{setThreeChange}}" on-tap="{{setThreeChange}}"></paper-input></div>
          </div>
        </div>
      </div>
    </paper-shadow>



  </template>
  <script>
  (function() {
    var bodySelected = '';
    var exerciseSelected = '';
    var setOne = 0;
    var setTwo = 0;
    var setThree= 0;

    Polymer('log-exercise', {
      ready: function() {
        this.bodySelected = bodySelected;
        this.exerciseSelected = exerciseSelected;
        this.setOne = setOne;
        this.setTwo = setTwo;
        this.setThree = setThree;
      },
      selectedBodyChange: function(e){
        selectedBody = e.detail.item.label;
        this.bodySelected = selectedBody;
      },
      selectedExercise: "",
      selectedBody: "",
      selectedExercise: function(e){
        selectedExercise = e.detail.item.label;
        this.exerciseSelected = selectedExercise;
      },
      setOneReps: 0,
      setOneChange: function(e){
        this.setOne = this.setOneReps;
      },
      setTwoReps: 0,
      setTwoChange: function(e){
        this.setTwo = this.setTwoReps;
      },
      setThreeReps: 0,
      setThreeChange: function(e){
        this.setThree = this.setThreeReps;
      }
    });
  })();
  </script>

</polymer-element>
